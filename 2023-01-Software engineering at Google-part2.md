# Part 2.  프로세스

## Chapter 8. 스타일 가이드와 규칙
> 핵심 메시지
> - rule(규칙) vs guidance(지침)
> - rule : 언어별 style-guide
> - guidance : 언어별 primer
> - 코드의 `지속가능성`을 높이는 것이 목적이다

### Rule의 필요성
- 좋은 행동을 장려하고 나쁜 행동을 억제하는 것 
- 좋고 나쁨의 기준이 무엇인가? 조직이 추구하는 가치
  - `규모와 시간 양쪽 측면에서 탄력적인 엔지니어링 환경이 지속되도록 하는 것`
- 코딩 어휘가 통일되면 엔지니어들은 `형식`보다 `내용`에 집중할 수 있다

### 규칙 만들기
- 무슨 규칙이 필요하지? 가 아니라 어떤 목표를 이루려 하지?
- 자율성과 규칙의 트레이드 오프
  - 내적동기를 이끄는 요소 : 자율성, 숙련, 의미
- 1. 규칙의 양을 최소화 한다
  - 자명한 규칙 배제
- 2. 읽는 사람에게 맞춘다
  - `쓰기에 간편한`보다 `읽기에 간단한`쪽에 가치를 둔다
  - 우리 목적은 `현 위치에서 추론하기` 입니다
- 3. 일관되어야 한다
  - 모든 지역별 연구소의 인터페이스가 동일하다 > 사소한 설정때문에 시간을 허비하는 일을 없앤다
  - 일관성 vs 자율성
  - 일관성이 주는 이점은 우리가 잃게되는 자유의 가치보다 훨씬 크다. 엔지니어가 더 많은 일을 적은 노력으로 수행할 수 있게 된다
  - 일관성이 규모를 확장하기 쉽게 도와준다 (도구 활용)
- 4. 실수를 유발하는 구조를 피한다
  - 구글은 코드베이스가 특정 전문가의 전유물이 아닌 모든 엔지니어의 작업 공간이 되길 원한다
- 5. 꼭 필요하면 예외를 허용한다
  - 일관성과 가독성을 희생해서라도 성능을 끌어올려야 할 때가 있다

### style-guide
- 어떤 내용이 포함되어야 하나?
  - 위험을 피하기 위한 규칙
  - 모범 사례를 적용하기 위한 규칙 : 주석, 네이밍, 포맷팅
  - 일관성을 보장하기 위한 규칙
  - 그리고, 이러한 결정 뒷받침하는 근거
- 일관성 
  - 파키슨의 사소함의 법칙 : 중요한 사안을 고민하는데는 아주 적은 시간만 들이면서 사소한 일에는 필요 이상의 시간과 노력을 들이는 현상. (별 차이가 없어서 더 합의를 못하는 팀 vs 별 차이가 없으니 그냥 정하자는 팀)
  - 하나를 선택함으로써 끝없는 논쟁에서 벗어나 더 중요한 일로 시선을 돌릴 수 있게 했다

### 규칙 적용하기
- 규칙을 강제하는 방법으로는 `교육과 훈련을 통한 사회적인 방법`과 `도구를 이용한 기술적인 방법`이 있다
- 도구활용은 확장성을 도와주지만, 사회적인 문제를 기술적인 문제로 해결하려 해서는 안된다.

> 생각해볼 것들
> - 우리는 spring api java style-guide를 만들어 보면 어떨까?
> - 구글의 style-guide (java, go, python) 공부해보기 어떨까? 
> - Error prone을 이용해 규칙 적용을 도구화 할 수 있을까?
> - 삼성에서 전체 적용되는 룰을 만들 수 있을까? 회사가 너무 커지지 않았을 때부터 만들어 온걸까?

## Chapter 9. 코드리뷰
> 핵심 메시지
> - 버그가 코드베이스로 침투하기 전에 잡아낸다
> - 심리적인 이점들은 시간이 흐르고 조직 규모가 커지면 큰 혜택이 된다

### 코드는 부채다
- 없어서는 안될 부채이긴 하겠으나 존재만으로 어느 순간 누군가에게 유지보수해야 할 대상이 되어버린다
- 마치 비행기의 연료처럼 비행기를 띄우려면 반드시 필요하지만, 그 자체가 하중을 늘려 부담으로 작용히죠
- 코드 리뷰는 전에 내린 설계를 번복하거나 재논의하는 자리여서는 안됩니다. 설계를 결정하는 데는 보통 시간이 걸립니다
- 전혀 새로운 코드를 리뷰하는 일이 뜬금없이 생겨서는 안 되듯이, 코드 리뷰 과정 자체를 기존 결정을 다시 논의할 기회로 보아서는 안됩니다

### 세가지 측면의 리뷰
- 다른 엔지니어 : 코드가 정확하고 유효한지
- 코드 소유자 : 승인 - 유지보수할 수 있을지, 기술부채를 안겨주는지
- 가독성 인증자 : 가독성 승인 (스타일 가이드에 맞는지)

> 구글에서는 Owners 파일이 왜 필요할까?
> - git 프로젝트 owner가 owner 아닌가? 단일 repo가 하나의 프로젝트란 뜻인가?
> - 한 프로젝트 내에서도 소유권을 나눠야 할 경우가 있나?

### 생각할 거리
- 코드리뷰는 코드의 유지보수와, 읽는속도 최적화와 쓰는속도의 트레이드오프
- 리뷰 프로세스를 날렵하게(확장성있게) 유지하기 위한 장치
  - 작은 변경, 빠른피드백, 최소리뷰어, 자동화
- 잘못되었다고 가정하기 전에 그렇게 처리하게 된 이유가 무엇인지부터 물어보는 것

> 생각해볼 것들
> - 우리가 부족한것들은 무엇이 있을까?

## Chapter 10. 문서자료
> 핵심 메시지
> - 문서자료는 시간이 흐르고 조직 규모가 커질수록 중요해진다
> - 문서자료 변경도 기존 개발자 워크플로에 통합되어야 한다 (문서자료를 코드처럼 취급)
> - 하나의 문서는 하나의 목적에 집중해야 한다
> - 문서자료는 자신이 아니라 독자를 위해 써야 한다 

### 문서자료란
- 엔지니어가 작업을 끝마치기 위해 작성해야 하는 모든 부수적인 텍스트

### 문서자료는 코드와 같다
- 꼭 따라야 하는 내부 정책과 규칙이 있다
- 버전 관리 시스템에 등록해 관리해야 한다
- 관리 책임자를 명시해야 한다
- 변경 시 (문서자료가 설명하는 코드와 함께) 리뷰를 거쳐야 한다
- 버그를 추적하듯 문제를 추적해야 한다
- 주기적으로 평가(혹은 테스트)를 받아야 한다
- 정확성이나 최신 정보 반영 여부 등을 측정해야 한다

### 위키에서 git으로
- 위키의 한계
  - 소유자가 없어서 많은 페이지가 오래된 정보를 그대로 담고 있다
  - 틀린 내용을 바로잡아줄 사람들이 없다
- 반대 의견
  - 정보를 자유롭게 올리지 못하고, 문서화 하는 장벽이 높아져서 문서자료 품질이 떨어질 것이다
- 효과
  - 개선됐다
  - 마크다운을 표준 문서 서식 언으로 도입했다
  - 코드안에 문서자료를 삽입해주는 프레임워크 g3doc (소스코드와 문서를 한 화면에서 볼 수 있다)
  - 문서자료를 코드와 비슷한 방식으로 유지보수한다 (버그 리포팅, CL에 문서자료 수정까지 포함, 리뷰받기) > 새로운 프로세스를 만들지 않고 기존 개발자 워크플로에 녹였다

### 독자 유형
- 경험수준
- 도메인 지식
- 목적
- 탐색자 vs 배회자
- `문서를 짧게 쓰려면 때로는 모든 정보를 담아 길게 쓴 다음 간명하게 편집하고 중복된 정보를 삭제하는 과정을 거쳐야 한다`

### 문서 자료 유형
- 주석 - api 주석, 구현 주석
- 설계문서
  - `중요한 프로젝트에 착수하기 전에 설계 문서부터 승인받아야 한다`
  - 표준 설계 문서 템플릿은 보안, 국제화, 스토리지 요구사항, 개인정보 보호 등 다양한 측면을 고려하도록 유도
  - `설계의 목표, 구현전략, 설계상의 핵심 선택들과 관련한 트레이드 오프를 명시`
- 튜토리얼
- 개념 설명 문서자료 : 주석으로는 부족한 경우 api나 시스템의 개요를 알려주는 개념 문서
- 랜딩 페이지

> 생각해볼 것들
> - 문서화에 우리가 적용해볼 것들은?
> - 위키에서 git으로
> - 소스트리에 문서 디렉토리를 추가하고 리뷰 받자
> - 스프린트 계획과 CL에 문서화를 넣자